# Production Environment Configuration
# Extracted from: ansible/group_vars/all.yml
# Enhanced with additional configuration options

# Project Configuration
PROJECT_NAME="realistic-demo-pretamane"
PROJECT_VERSION="1.0.0"
PROJECT_DESCRIPTION="Cloud-Native Portfolio Demo with Advanced Mounting Techniques"
ENVIRONMENT="production"

# AWS Configuration
AWS_REGION="ap-southeast-1"
AWS_PROFILE="default"
# AWS_ACCOUNT_ID will be detected automatically

# Kubernetes Configuration
KUBERNETES_VERSION="1.28"
KUBERNETES_NAMESPACE="default"
KUBECONFIG_PATH="~/.kube/config"

# Docker Configuration
DOCKER_REGISTRY="public.ecr.aws"
DOCKER_NAMESPACE="realistic-demo-pretamane"
IMAGE_TAG="latest"
BASE_IMAGE="python:3.11-slim"

# Application Configuration
APP_NAME="contact-api"
APP_PORT="8000"
APP_HEALTH_CHECK_PATH="/health"
APP_DOCS_PATH="/docs"
APP_REPLICAS="2"
APP_MIN_REPLICAS="1"
APP_MAX_REPLICAS="10"

# Resource Configuration
CPU_REQUESTS="200m"
CPU_LIMITS="500m"
MEMORY_REQUESTS="256Mi"
MEMORY_LIMITS="512Mi"

# Auto-scaling Configuration
TARGET_CPU_UTILIZATION="70"
TARGET_MEMORY_UTILIZATION="80"
HPA_SCALE_DOWN_STABILIZATION="300"
HPA_SCALE_UP_STABILIZATION="60"

# Storage Configuration
EFS_PERFORMANCE_MODE="generalPurpose"
EFS_THROUGHPUT_MODE="bursting"
EFS_ENABLE_BACKUP="true"
STORAGE_CLASS="efs-sc-advanced"

# S3 Configuration (Conflict-free bucket names)
S3_DATA_BUCKET_SUFFIX="data"
S3_INDEX_BUCKET_SUFFIX="index"
S3_REALTIME_BUCKET_SUFFIX="realtime"
S3_ARCHIVE_BUCKET_SUFFIX="archive"
S3_LOGS_BUCKET_SUFFIX="logs"
S3_BACKUP_BUCKET_SUFFIX="backup"

# OpenSearch Configuration
OPENSEARCH_INSTANCE_TYPE="t3.small.search"
OPENSEARCH_INSTANCE_COUNT="2"
OPENSEARCH_VOLUME_SIZE="20"
OPENSEARCH_INDEX_NAME="documents"

# Email Configuration (SES)
# These should be set as environment variables or in .env file
# SES_FROM_EMAIL=""
# SES_TO_EMAIL=""

# Monitoring Configuration
ENABLE_MONITORING="true"
ENABLE_LOGGING="true"
ENABLE_METRICS="true"
HEALTH_CHECK_INTERVAL="30"
HEALTH_CHECK_TIMEOUT="5"
HEALTH_CHECK_RETRIES="3"

# Security Configuration
ENABLE_IRSA="true"
ENABLE_ENCRYPTION="true"
ENABLE_NETWORK_POLICIES="false"

# Deployment Configuration
DEPLOYMENT_STRATEGY="RollingUpdate"
MAX_UNAVAILABLE="25%"
MAX_SURGE="25%"
PROGRESS_DEADLINE_SECONDS="600"

# Ingress Configuration
INGRESS_CLASS="alb"
INGRESS_SCHEME="internet-facing"
INGRESS_TARGET_TYPE="ip"
ENABLE_SSL_REDIRECT="true"

# Backup Configuration
BACKUP_RETENTION_DAYS="30"
ENABLE_POINT_IN_TIME_RECOVERY="true"
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM

# Cost Optimization
ENABLE_SPOT_INSTANCES="false"
NODE_GROUP_INSTANCE_TYPES="t3.medium,t3.large"
NODE_GROUP_CAPACITY_TYPE="ON_DEMAND"

# Development/Debug Configuration
ENABLE_DEBUG_LOGGING="false"
ENABLE_VERBOSE_OUTPUT="false"
DRY_RUN_MODE="false"

# Feature Flags
ENABLE_ADVANCED_STORAGE="true"
ENABLE_RCLONE_SIDECAR="true"
ENABLE_S3_SYNC_SERVICE="true"
ENABLE_OPENSEARCH_INDEXER="true"
ENABLE_COMPREHENSIVE_TESTING="true"

# Timeouts and Intervals
DEPLOYMENT_TIMEOUT="600"
HEALTH_CHECK_INITIAL_DELAY="30"
READINESS_PROBE_INITIAL_DELAY="10"
LIVENESS_PROBE_INITIAL_DELAY="30"

# Networking
SERVICE_TYPE="ClusterIP"
LOAD_BALANCER_TYPE="application"
ENABLE_CROSS_ZONE_LOAD_BALANCING="true"

# Logging and Observability
LOG_LEVEL="INFO"
LOG_FORMAT="json"
ENABLE_STRUCTURED_LOGGING="true"
ENABLE_DISTRIBUTED_TRACING="false"

# Performance Tuning
ENABLE_HORIZONTAL_POD_AUTOSCALING="true"
ENABLE_VERTICAL_POD_AUTOSCALING="false"
ENABLE_CLUSTER_AUTOSCALING="true"

# Maintenance
ENABLE_AUTOMATIC_UPDATES="false"
MAINTENANCE_WINDOW="02:00-04:00"
ENABLE_DRAIN_NODES="true"
